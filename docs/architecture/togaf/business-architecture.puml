@startuml Business_Architecture
!theme plain
skinparam linetype ortho

title TOGAF 业务架构 - Felix 低代码平台

' ============================================
' 业务角色定义
' ============================================

package "业务角色 (Business Roles)" {
  actor "页面设计师\n(Page Designer)" as Designer
  actor "开发者\n(Developer)" as Developer
  actor "管理员\n(Administrator)" as Admin
  actor "终端用户\n(End User)" as EndUser
}

' ============================================
' 业务能力组件
' ============================================

package "业务能力 (Business Capabilities)" {
  
  component [可视化编辑能力] as VisualEditCapability
  component [组件拖拽] as ComponentDrag
  component [实时预览] as RealTimePreview
  component [属性配置] as PropertyConfig
  component [布局管理] as LayoutManagement
  
  component [组件管理能力] as ComponentMgmtCapability
  component [组件库管理] as ComponentLibraryMgmt
  component [自定义组件] as CustomComponent
  component [组件导入导出] as ComponentImportExport
  component [组件分组] as ComponentGrouping
  
  component [数据绑定能力] as DataBindingCapability
  component [数据源管理] as DataSourceMgmt
  component [数据映射] as DataMapping
  component [实时数据更新] as RealTimeDataUpdate
  component [数据验证] as DataValidation
  component [JSON快速输入] as JsonQuickInput
  component [模板推荐] as TemplateRecommendation
  component [智能渲染] as IntelligentRender
  component [数据结构解析] as DataStructureParse
  
  component [协作能力] as CollaborationCapability
  component [多人实时编辑] as MultiUserEdit
  component [操作同步] as OperationSync
  component [冲突解决] as ConflictResolution
  component [版本管理] as VersionManagement
  
  component [代码生成能力] as CodeGenCapability
  component [代码导出] as CodeExport
  component [格式转换] as FormatConversion
  component [Git集成] as GitIntegration
  component [部署支持] as DeploymentSupport
  
  component [Schema管理能力] as SchemaMgmtCapability
  component [Schema导出] as SchemaExport
  component [Schema导入] as SchemaImport
  component [Schema渲染] as SchemaRender
  component [Schema验证] as SchemaValidation
  component [Schema版本管理] as SchemaVersionMgmt
  
  component [模板管理能力] as TemplateMgmtCapability
  component [模板库] as TemplateLibrary
  component [模板应用] as TemplateApply
  component [模板定制] as TemplateCustomization
  component [模板分享] as TemplateSharing
  
  VisualEditCapability --> ComponentDrag
  VisualEditCapability --> RealTimePreview
  VisualEditCapability --> PropertyConfig
  VisualEditCapability --> LayoutManagement
  
  ComponentMgmtCapability --> ComponentLibraryMgmt
  ComponentMgmtCapability --> CustomComponent
  ComponentMgmtCapability --> ComponentImportExport
  ComponentMgmtCapability --> ComponentGrouping
  
  DataBindingCapability --> DataSourceMgmt
  DataBindingCapability --> DataMapping
  DataBindingCapability --> RealTimeDataUpdate
  DataBindingCapability --> DataValidation
  DataBindingCapability --> JsonQuickInput
  DataBindingCapability --> TemplateRecommendation
  DataBindingCapability --> IntelligentRender
  DataBindingCapability --> DataStructureParse
  
  CollaborationCapability --> MultiUserEdit
  CollaborationCapability --> OperationSync
  CollaborationCapability --> ConflictResolution
  CollaborationCapability --> VersionManagement
  
  CodeGenCapability --> CodeExport
  CodeGenCapability --> FormatConversion
  CodeGenCapability --> GitIntegration
  CodeGenCapability --> DeploymentSupport
  
  SchemaMgmtCapability --> SchemaExport
  SchemaMgmtCapability --> SchemaImport
  SchemaMgmtCapability --> SchemaRender
  SchemaMgmtCapability --> SchemaValidation
  SchemaMgmtCapability --> SchemaVersionMgmt
  
  TemplateMgmtCapability --> TemplateLibrary
  TemplateMgmtCapability --> TemplateApply
  TemplateMgmtCapability --> TemplateCustomization
  TemplateMgmtCapability --> TemplateSharing
}

' ============================================
' 核心业务流程组件
' ============================================

package "核心业务流程 (Core Business Processes)" {
  
  component [页面设计与构建流程] as PageDesignProcess
  component [设计师登录平台] as DesignerLogin
  component [浏览模板库或创建空白项目] as BrowseOrCreate
  component [进入可视化编辑器] as EnterEditor
  component [拖拽组件到画布] as DragComponent
  component [配置组件属性和样式] as ConfigComponent
  component [绑定数据源] as BindDataSource
  component [实时预览效果] as PreviewEffect
  component [调整布局和样式] as AdjustLayout
  component [保存项目] as SaveProject
  component [发布页面] as PublishPage
  
  component [模板管理流程] as TemplateProcess
  component [浏览模板库] as BrowseTemplate
  component [选择合适模板] as SelectTemplate
  component [预览模板效果] as PreviewTemplate
  component [在模板基础上编辑] as EditTemplate
  component [直接应用模板] as ApplyTemplate
  component [保存为项目] as SaveAsProject
  
  component [协作编辑流程] as CollaborationProcess
  component [创建协作项目] as CreateCollaborationProject
  component [邀请团队成员] as InviteMembers
  component [成员加入编辑] as MembersJoin
  component [多人实时编辑] as MultiUserEditing
  component [操作同步和冲突处理] as SyncAndConflict
  component [版本历史管理] as VersionHistoryMgmt
  component [合并更改] as MergeChanges
  
  component [代码导出流程] as CodeExportProcess
  component [开发者选择项目] as SelectProject
  component [预览页面效果] as PreviewPageEffect
  component [选择导出格式] as SelectExportFormat
  component [生成代码] as GenerateCode
  component [下载代码包或推送到Git] as DownloadOrPush
  component [在本地环境配置] as LocalConfig
  component [进行二次开发] as SecondaryDevelopment
  component [部署到生产环境] as DeployToProduction
  
  component [Schema导出流程] as SchemaExportProcess
  component [用户选择导出Schema] as SelectExportSchema
  component [系统生成Schema JSON] as GenerateSchemaJSON
  component [验证Schema格式] as ValidateSchemaFormat
  component [下载Schema文件] as DownloadSchemaFile
  component [分享Schema给其他用户] as ShareSchema
  
  component [Schema导入流程] as SchemaImportProcess
  component [用户选择导入Schema] as SelectImportSchema
  component [上传Schema文件] as UploadSchemaFile
  component [验证Schema版本] as ValidateSchemaVersion
  component [迁移旧版本Schema] as MigrateSchema
  component [导入到画布] as ImportToCanvas
  component [渲染页面] as RenderPage
  
  component [数据管理流程] as DataMgmtProcess
  component [创建数据源] as CreateDataSource
  component [配置数据连接] as ConfigDataConnection
  component [测试数据连接] as TestDataConnection
  component [创建数据映射] as CreateDataMapping
  component [绑定到组件] as BindToComponent
  component [实时数据更新] as RealTimeUpdate
  component [监控数据状态] as MonitorDataStatus
  
  component [JSON快速输入流程] as JsonInputProcess
  component [选择组件类型] as SelectComponentType
  component [选择JSON模板] as SelectJsonTemplate
  component [输入或编辑JSON数据] as InputJsonData
  component [验证JSON格式] as ValidateJsonFormat
  component [创建临时数据源] as CreateTempDataSource
  component [自动渲染到组件] as AutoRenderToComponent
  
  PageDesignProcess --> DesignerLogin
  PageDesignProcess --> BrowseOrCreate
  PageDesignProcess --> EnterEditor
  PageDesignProcess --> DragComponent
  PageDesignProcess --> ConfigComponent
  PageDesignProcess --> BindDataSource
  PageDesignProcess --> PreviewEffect
  PageDesignProcess --> AdjustLayout
  PageDesignProcess --> SaveProject
  PageDesignProcess --> PublishPage
  
  TemplateProcess --> BrowseTemplate
  TemplateProcess --> SelectTemplate
  TemplateProcess --> PreviewTemplate
  TemplateProcess --> EditTemplate
  TemplateProcess --> ApplyTemplate
  TemplateProcess --> SaveAsProject
  
  CollaborationProcess --> CreateCollaborationProject
  CollaborationProcess --> InviteMembers
  CollaborationProcess --> MembersJoin
  CollaborationProcess --> MultiUserEditing
  CollaborationProcess --> SyncAndConflict
  CollaborationProcess --> VersionHistoryMgmt
  CollaborationProcess --> MergeChanges
  
  CodeExportProcess --> SelectProject
  CodeExportProcess --> PreviewPageEffect
  CodeExportProcess --> SelectExportFormat
  CodeExportProcess --> GenerateCode
  CodeExportProcess --> DownloadOrPush
  CodeExportProcess --> LocalConfig
  CodeExportProcess --> SecondaryDevelopment
  CodeExportProcess --> DeployToProduction
  
  SchemaExportProcess --> SelectExportSchema
  SchemaExportProcess --> GenerateSchemaJSON
  SchemaExportProcess --> ValidateSchemaFormat
  SchemaExportProcess --> DownloadSchemaFile
  SchemaExportProcess --> ShareSchema
  
  SchemaImportProcess --> SelectImportSchema
  SchemaImportProcess --> UploadSchemaFile
  SchemaImportProcess --> ValidateSchemaVersion
  SchemaImportProcess --> MigrateSchema
  SchemaImportProcess --> ImportToCanvas
  SchemaImportProcess --> RenderPage
  
  DataMgmtProcess --> CreateDataSource
  DataMgmtProcess --> ConfigDataConnection
  DataMgmtProcess --> TestDataConnection
  DataMgmtProcess --> CreateDataMapping
  DataMgmtProcess --> BindToComponent
  DataMgmtProcess --> RealTimeUpdate
  DataMgmtProcess --> MonitorDataStatus
  
  JsonInputProcess --> SelectComponentType
  JsonInputProcess --> SelectJsonTemplate
  JsonInputProcess --> InputJsonData
  JsonInputProcess --> ValidateJsonFormat
  JsonInputProcess --> CreateTempDataSource
  JsonInputProcess --> AutoRenderToComponent
}

' ============================================
' 价值流组件
' ============================================

package "价值流 (Value Stream)" {
  
  component [需求识别] as Step1
  component [方案设计] as Step2
  component [可视化构建] as Step3
  component [数据集成] as Step4
  component [预览验证] as Step5
  component [协作优化] as Step6
  component [代码生成] as Step7
  component [部署交付] as Step8
  
  Step1 --> Step2 : 需求分析
  Step2 --> Step3 : 页面设计
  Step3 --> Step4 : 数据绑定
  Step4 --> Step5 : 效果验证
  Step5 --> Step6 : 团队协作
  Step6 --> Step7 : 代码导出
  Step7 --> Step8 : 部署上线
}

' ============================================
' 业务关系
' ============================================

Designer --> VisualEditCapability : 使用
Designer --> ComponentMgmtCapability : 使用
Designer --> DataBindingCapability : 使用
Designer --> CollaborationCapability : 使用
Designer --> TemplateMgmtCapability : 使用
Designer --> SchemaMgmtCapability : 使用

Developer --> CodeGenCapability : 使用
Developer --> VisualEditCapability : 使用
Developer --> SchemaMgmtCapability : 使用

Admin --> ComponentMgmtCapability : 管理
Admin --> TemplateMgmtCapability : 管理
Admin --> CollaborationCapability : 配置

EndUser --> Step8 : 访问

PageDesignProcess --> VisualEditCapability : 依赖
PageDesignProcess --> ComponentMgmtCapability : 依赖
PageDesignProcess --> DataBindingCapability : 依赖

TemplateProcess --> TemplateMgmtCapability : 依赖
TemplateProcess --> ComponentMgmtCapability : 依赖

CollaborationProcess --> CollaborationCapability : 依赖

CodeExportProcess --> CodeGenCapability : 依赖

SchemaExportProcess --> SchemaMgmtCapability : 依赖
SchemaImportProcess --> SchemaMgmtCapability : 依赖

DataMgmtProcess --> DataBindingCapability : 依赖
JsonInputProcess --> DataBindingCapability : 依赖

@enduml
