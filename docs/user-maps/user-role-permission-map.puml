@startuml User_Role_Permission_Map
!theme plain
skinparam linetype ortho
skinparam packageStyle rectangle

title Felix 低代码平台 - 用户角色/权限地图

' ============================================
' 用户角色定义
' ============================================

package "用户角色" {
  class Admin {
    + 角色名称: 管理员
    + 职责: 系统管理和配置
    + 权限级别: 最高
    --
    + 管理系统配置
    + 管理用户权限
    + 查看系统监控
    + 管理所有项目
  }

  class Designer {
    + 角色名称: 页面设计师
    + 职责: 创建和编辑页面
    + 权限级别: 高
    --
    + 创建项目
    + 编辑页面
    + 使用模板
    + 导出代码
    + 协作编辑
  }

  class Developer {
    + 角色名称: 开发者
    + 职责: 导出代码和二次开发
    + 权限级别: 中
    --
    + 查看项目
    + 导出代码
    + 访问 Git 仓库
    + 查看文档
  }

  class EndUser {
    + 角色名称: 终端用户
    + 职责: 访问生成的页面
    + 权限级别: 低
    --
    + 访问页面
    + 查看内容
    + 交互操作
  }
}

' ============================================
' 功能权限矩阵
' ============================================

package "功能权限" {
  class ProjectManagement {
    + 创建项目
    + 编辑项目
    + 删除项目
    + 分享项目
    + 查看所有项目
  }

  class PageEditing {
    + 拖拽组件
    + 编辑属性
    + 调整布局
    + 预览页面
    + 保存页面
  }

  class TemplateManagement {
    + 使用模板
    + 创建模板
    + 编辑模板
    + 删除模板
    + 分享模板
  }

  class CodeExport {
    + 导出 React 代码
    + 导出 Next.js 项目
    + 推送到 Git
    + 下载代码包
  }

  class Collaboration {
    + 邀请成员
    + 实时协作
    + 查看历史
    + 解决冲突
    + 权限管理
  }

  class SystemManagement {
    + 用户管理
    + 角色管理
    + 系统配置
    + 监控查看
    + 日志查看
  }

  class DataSourceManagement {
    + 创建数据源
    + 编辑数据源
    + 删除数据源
    + 测试连接
    + 查看数据
  }

  class ThemeManagement {
    + 创建主题
    + 编辑主题
    + 应用主题
    + 删除主题
    + 导出主题
  }
}

' ============================================
' 权限关系
' ============================================

Admin --> ProjectManagement : 完全控制
Admin --> PageEditing : 完全控制
Admin --> TemplateManagement : 完全控制
Admin --> CodeExport : 完全控制
Admin --> Collaboration : 完全控制
Admin --> SystemManagement : 完全控制
Admin --> DataSourceManagement : 完全控制
Admin --> ThemeManagement : 完全控制

Designer --> ProjectManagement : 创建/编辑/删除
Designer --> PageEditing : 完全控制
Designer --> TemplateManagement : 使用/创建/编辑
Designer --> CodeExport : 导出/推送
Designer --> Collaboration : 邀请/协作/查看
Designer --> DataSourceManagement : 创建/编辑/删除
Designer --> ThemeManagement : 创建/编辑/应用

Developer --> ProjectManagement : 查看
Developer --> PageEditing : 查看
Developer --> TemplateManagement : 查看
Developer --> CodeExport : 导出/推送
Developer --> Collaboration : 查看

EndUser --> ProjectManagement : 无权限
EndUser --> PageEditing : 无权限
EndUser --> TemplateManagement : 无权限
EndUser --> CodeExport : 无权限
EndUser --> Collaboration : 无权限

' ============================================
' 角色层级关系
' ============================================

Admin ..|> Designer : 继承权限
Admin ..|> Developer : 继承权限
Designer ..|> Developer : 部分继承

note right of Admin
  **管理员 (Admin)**
  
  拥有系统最高权限：
  - 可以管理所有用户和角色
  - 可以访问所有项目和功能
  - 可以配置系统参数
  - 可以查看系统监控和日志
end note

note right of Designer
  **页面设计师 (Designer)**
  
  平台的核心用户：
  - 创建和编辑页面项目
  - 使用模板快速搭建
  - 导出代码进行部署
  - 协作编辑和分享
end note

note right of Developer
  **开发者 (Developer)**
  
  代码导出和二次开发：
  - 查看项目代码
  - 导出代码到 Git
  - 进行二次开发
  - 查看技术文档
end note

note right of EndUser
  **终端用户 (End User)**
  
  最终页面访问者：
  - 访问设计师创建的页面
  - 与页面进行交互
  - 查看页面内容
  - 无编辑权限
end note

' ============================================
' 权限说明
' ============================================

legend right
  |<#LightBlue> 完全控制 | 创建、读取、更新、删除 |
  |<#LightGreen> 部分权限 | 创建、读取、更新 |
  |<#LightYellow> 只读权限 | 仅读取 |
  |<#LightGray> 无权限 | 无法访问 |
endlegend

@enduml

