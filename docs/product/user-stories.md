# 用户故事文档

## 文档概述

本文档采用 **Epic** 和 **User Story** 的分层结构，描述了 Felix 低代码平台的所有核心功能模块。用户故事遵循标准的格式：**作为 [角色]，我想要 [功能]，以便于 [价值/目标]**。

### 用户故事格式说明

每个用户故事包含以下要素：

- **角色（As a）**：使用系统的用户角色
- **功能（I want）**：用户想要执行的操作或功能
- **价值（So that）**：用户期望获得的价值或目标
- **验收标准（Acceptance Criteria）**：具体的验收条件，用于判断功能是否完成
- **优先级（Priority）**：高/中/低，用于指导开发优先级
- **依赖关系（Dependencies）**：相关的 Epic 或其他 Story

### Epic 和 User Story 层级关系

- **Epic**：大型功能模块，包含多个相关的用户故事
- **User Story**：具体的功能需求，属于某个 Epic
- 一个 Epic 可以包含多个 User Story
- User Story 之间可能存在依赖关系

## 用户角色定义

平台支持以下 4 种用户角色：

### 1. 页面设计师（Page Designer）

**职责**：使用平台创建和编辑页面，通过可视化编辑器构建页面布局和组件。

**典型场景**：

- 拖拽组件到画布
- 配置组件属性
- 调整页面布局
- 应用主题和样式
- 预览页面效果

### 2. 开发者（Developer）

**职责**：导出代码并进行二次开发，将平台生成的页面集成到现有项目中。

**典型场景**：

- 导出 React/Next.js 代码
- 集成到现有项目
- 进行代码定制和扩展
- 部署到生产环境

### 3. 终端用户（End User）

**职责**：访问和使用由平台生成的页面。

**典型场景**：

- 浏览生成的页面
- 与页面交互（表单提交、数据查看等）
- 在不同设备上访问页面

### 4. 管理员（Administrator）

**职责**：管理系统配置、用户权限和平台设置。

**典型场景**：

- 管理用户账户和权限
- 配置系统参数
- 监控系统运行状态
- 管理模板和组件库

---

## Epic 1: 可视化编辑器

### Epic 描述

提供直观的可视化编辑界面，支持拖拽式组件操作、实时预览、组件树管理和属性配置等功能。

### User Stories

#### US-1.1: 拖拽组件到画布

**作为** 页面设计师  
**我想要** 从组件面板拖拽组件到画布上  
**以便于** 快速添加组件到页面中

**验收标准**：

- 可以从左侧组件面板拖拽任意组件
- 拖拽到画布时显示拖拽预览效果
- 释放鼠标后组件成功添加到画布指定位置
- 支持拖拽到现有组件内部（嵌套）
- 拖拽过程中显示对齐辅助线

**优先级**：高  
**依赖关系**：无

---

#### US-1.2: 在画布上移动组件

**作为** 页面设计师  
**我想要** 在画布上拖拽移动已添加的组件  
**以便于** 调整组件在页面中的位置

**验收标准**：

- 可以选中画布上的组件并拖拽移动
- 移动时显示对齐辅助线和网格
- 移动后组件位置正确更新
- 支持移动到其他组件内部或外部
- 移动过程中实时更新组件树视图

**优先级**：高  
**依赖关系**：US-1.1

---

#### US-1.3: 实时预览页面效果

**作为** 页面设计师  
**我想要** 在编辑过程中实时预览页面效果  
**以便于** 及时查看设计效果，无需切换到预览模式

**验收标准**：

- 画布上的组件实时渲染，与最终效果一致
- 修改组件属性后立即在画布上反映
- 支持响应式预览（桌面、平板、手机）
- 预览模式下可以交互（点击、滚动等）
- 预览性能流畅，无明显延迟

**优先级**：高  
**依赖关系**：US-1.1

---

#### US-1.4: 查看和管理组件树

**作为** 页面设计师  
**我想要** 查看页面的组件层级结构  
**以便于** 理解页面结构，快速定位和选择组件

**验收标准**：

- 左侧显示组件树视图，展示所有组件的层级关系
- 组件树支持展开/折叠
- 点击组件树中的节点可以选中对应组件
- 支持在组件树中拖拽调整组件顺序
- 组件树实时同步画布上的变化

**优先级**：中  
**依赖关系**：US-1.1

---

#### US-1.5: 配置组件属性

**作为** 页面设计师  
**我想要** 在属性面板中配置选中组件的属性  
**以便于** 自定义组件的外观和行为

**验收标准**：

- 选中组件后，右侧属性面板显示该组件的所有可配置属性
- 支持修改文本、颜色、尺寸、间距等基础属性
- 支持配置组件特定的高级属性
- 属性修改后立即在画布上生效
- 支持属性值的撤销/重做

**优先级**：高  
**依赖关系**：US-1.1

---

#### US-1.6: 选择画布上的组件

**作为** 页面设计师  
**我想要** 点击画布上的组件进行选择  
**以便于** 选中组件后进行编辑和配置

**验收标准**：

- 点击组件可以选中，显示选中边框
- 选中后属性面板显示该组件的属性
- 支持多选（Ctrl/Cmd + 点击）
- 支持框选多个组件
- 点击画布空白区域取消选择

**优先级**：高  
**依赖关系**：US-1.1

---

#### US-1.7: 删除画布上的组件

**作为** 页面设计师  
**我想要** 删除画布上不需要的组件  
**以便于** 清理页面，移除错误添加的组件

**验收标准**：

- 选中组件后可以按 Delete 键删除
- 支持右键菜单删除选项
- 删除嵌套组件时，子组件一并删除
- 删除操作支持撤销
- 删除后组件树同步更新

**优先级**：中  
**依赖关系**：US-1.1, US-1.6

---

#### US-1.8: 复制和粘贴组件

**作为** 页面设计师  
**我想要** 复制已配置好的组件并粘贴到其他位置  
**以便于** 快速复用组件配置，提高设计效率

**验收标准**：

- 支持复制单个组件（Ctrl/Cmd + C）
- 支持复制多个组件
- 粘贴时保留组件的所有属性和配置
- 支持跨页面复制粘贴
- 粘贴的组件可以独立编辑

**优先级**：中  
**依赖关系**：US-1.1, US-1.6

---

## Epic 2: 组件系统

### Epic 描述

提供丰富的组件库，支持内置组件使用、自定义组件创建、组件分组管理和组件导入导出等功能。

### User Stories

#### US-2.1: 浏览内置组件库

**作为** 页面设计师  
**我想要** 浏览平台提供的内置组件库  
**以便于** 了解可用的组件类型，选择合适的组件

**验收标准**：

- 组件面板按分类展示组件（基础、布局、表单、图表等）
- 每个组件显示名称和图标预览
- 支持搜索组件（按名称或类型）
- 支持展开/折叠组件分类
- 鼠标悬停显示组件描述

**优先级**：高  
**依赖关系**：无

---

#### US-2.2: 使用基础组件

**作为** 页面设计师  
**我想要** 使用按钮、文本、图片等基础组件  
**以便于** 构建页面的基础元素

**验收标准**：

- 可以拖拽按钮组件到画布
- 可以拖拽文本组件到画布
- 可以拖拽图片组件到画布，支持上传图片
- 每个基础组件都有完整的属性配置选项
- 组件在画布上正确渲染

**优先级**：高  
**依赖关系**：US-2.1, US-1.1

---

#### US-2.3: 使用布局组件

**作为** 页面设计师  
**我想要** 使用容器、网格、Flex 等布局组件  
**以便于** 组织页面布局，实现复杂的页面结构

**验收标准**：

- 可以添加容器组件，支持设置宽度、高度、内边距等
- 可以添加网格布局组件，支持配置行列数
- 可以添加 Flex 布局组件，支持配置方向和对齐方式
- 布局组件可以嵌套使用
- 支持响应式布局配置

**优先级**：高  
**依赖关系**：US-2.1, US-1.1

---

#### US-2.4: 创建自定义组件

**作为** 页面设计师  
**我想要** 将画布上的组件组合保存为自定义组件  
**以便于** 复用常用的组件组合，提高设计效率

**验收标准**：

- 可以选择画布上的多个组件
- 可以将选中的组件组合保存为自定义组件
- 自定义组件有名称和描述
- 保存的自定义组件出现在组件面板中
- 自定义组件可以像内置组件一样使用

**优先级**：中  
**依赖关系**：US-1.1, US-1.6

---

#### US-2.5: 管理自定义组件

**作为** 页面设计师  
**我想要** 管理我创建的自定义组件  
**以便于** 编辑、删除或重命名自定义组件

**验收标准**：

- 可以在组件管理界面查看所有自定义组件
- 支持编辑自定义组件的名称和描述
- 支持删除不需要的自定义组件
- 支持预览自定义组件
- 删除自定义组件时，已使用的实例不受影响

**优先级**：中  
**依赖关系**：US-2.4

---

#### US-2.6: 组件分组管理

**作为** 页面设计师  
**我想要** 对自定义组件进行分组管理  
**以便于** 组织和管理大量自定义组件

**验收标准**：

- 可以创建组件分组（文件夹）
- 可以将自定义组件移动到分组中
- 支持嵌套分组
- 组件面板按分组显示组件
- 支持重命名和删除分组

**优先级**：低  
**依赖关系**：US-2.4

---

#### US-2.7: 导出组件

**作为** 页面设计师  
**我想要** 导出自定义组件  
**以便于** 在其他项目中使用或分享给团队成员

**验收标准**：

- 可以选择单个或多个组件进行导出
- 导出为 JSON 格式文件
- 导出的文件包含组件的完整配置信息
- 支持导出组件分组
- 导出文件可以下载到本地

**优先级**：低  
**依赖关系**：US-2.4

---

#### US-2.8: 导入组件

**作为** 页面设计师  
**我想要** 导入其他项目或团队分享的组件  
**以便于** 复用已有的组件资源，避免重复创建

**验收标准**：

- 可以上传组件 JSON 文件进行导入
- 导入时验证文件格式和组件配置
- 导入的组件出现在组件面板中
- 支持批量导入多个组件
- 导入时处理组件名称冲突（重命名或覆盖）

**优先级**：低  
**依赖关系**：US-2.4

---

## Epic 3: 数据与图表

### Epic 描述

提供数据源管理、数据绑定配置、图表组件使用和表单构建器等功能，支持页面与数据的动态交互。

### User Stories

#### US-3.1: 创建静态数据源

**作为** 页面设计师  
**我想要** 创建静态数据源  
**以便于** 为页面组件提供测试数据或固定数据

**验收标准**：

- 可以在数据面板中创建静态数据源
- 支持 JSON 格式的数据输入
- 支持数据验证（格式检查）
- 可以预览数据内容
- 支持编辑和删除数据源

**优先级**：中  
**依赖关系**：无

---

#### US-3.2: 创建 API 数据源

**作为** 页面设计师  
**我想要** 创建 API 数据源  
**以便于** 从外部 API 获取动态数据

**验收标准**：

- 可以配置 API 端点 URL
- 支持 GET、POST、PUT、DELETE 等 HTTP 方法
- 支持设置请求头（Headers）
- 支持设置请求参数（Query Parameters）
- 支持测试 API 连接和数据获取
- 支持配置数据刷新频率

**优先级**：高  
**依赖关系**：无

---

#### US-3.3: 绑定数据到组件

**作为** 页面设计师  
**我想要** 将数据源绑定到组件  
**以便于** 组件显示动态数据

**验收标准**：

- 可以在属性面板中选择数据源
- 支持配置数据字段映射
- 支持数组数据的循环渲染
- 数据更新后组件自动刷新
- 支持数据转换和格式化

**优先级**：高  
**依赖关系**：US-3.1, US-3.2, US-1.5

---

#### US-3.4: 使用图表组件

**作为** 页面设计师  
**我想要** 使用柱状图、折线图、饼图等图表组件  
**以便于** 可视化展示数据

**验收标准**：

- 可以添加柱状图组件到画布
- 可以添加折线图组件到画布
- 可以添加饼图组件到画布
- 支持绑定数据源到图表
- 支持配置图表样式（颜色、标题、图例等）
- 图表正确渲染数据

**优先级**：高  
**依赖关系**：US-1.1, US-3.3

---

#### US-3.5: 配置图表属性

**作为** 页面设计师  
**我想要** 配置图表的详细属性  
**以便于** 自定义图表的样式和显示效果

**验收标准**：

- 可以设置图表标题和副标题
- 可以配置坐标轴标签和刻度
- 可以设置图表颜色主题
- 可以配置图例位置和样式
- 支持配置图表动画效果
- 支持响应式图表配置

**优先级**：中  
**依赖关系**：US-3.4

---

#### US-3.6: 创建表单

**作为** 页面设计师  
**我想要** 使用表单构建器创建表单  
**以便于** 收集用户输入的数据

**验收标准**：

- 可以添加输入框、下拉框、单选框、复选框等表单组件
- 可以配置表单字段的验证规则
- 可以设置表单提交的 API 端点
- 支持表单布局配置
- 支持表单预览和测试

**优先级**：高  
**依赖关系**：US-1.1

---

#### US-3.7: 配置表单验证

**作为** 页面设计师  
**我想要** 配置表单字段的验证规则  
**以便于** 确保用户输入的数据符合要求

**验收标准**：

- 支持必填验证
- 支持数据类型验证（邮箱、手机号、URL 等）
- 支持长度验证（最小/最大长度）
- 支持自定义验证规则
- 验证失败时显示错误提示
- 支持实时验证和提交时验证

**优先级**：中  
**依赖关系**：US-3.6

---

#### US-3.8: 管理数据源

**作为** 页面设计师  
**我想要** 管理所有创建的数据源  
**以便于** 查看、编辑和删除数据源

**验收标准**：

- 可以在数据面板查看所有数据源列表
- 支持编辑数据源配置
- 支持删除数据源（删除前检查使用情况）
- 支持数据源重命名
- 支持数据源搜索和筛选

**优先级**：中  
**依赖关系**：US-3.1, US-3.2

---

## Epic 4: 主题与动画

### Epic 描述

提供主题编辑器、动画编辑器和响应式设计功能，支持页面样式定制和动画效果配置。

### User Stories

#### US-4.1: 使用预设主题

**作为** 页面设计师  
**我想要** 使用平台提供的预设主题  
**以便于** 快速应用统一的视觉风格

**验收标准**：

- 可以在主题面板中浏览预设主题
- 支持预览主题效果
- 可以一键应用主题到整个页面
- 应用主题后所有组件样式自动更新
- 支持在应用主题后继续自定义

**优先级**：中  
**依赖关系**：无

---

#### US-4.2: 自定义主题颜色

**作为** 页面设计师  
**我想要** 自定义主题的主色调和配色方案  
**以便于** 匹配品牌色彩或设计需求

**验收标准**：

- 可以在主题编辑器中修改主色调
- 支持配置辅助色、背景色、文字色等
- 支持使用颜色选择器
- 支持输入颜色值（HEX、RGB）
- 修改后实时预览效果

**优先级**：中  
**依赖关系**：US-4.1

---

#### US-4.3: 自定义字体样式

**作为** 页面设计师  
**我想要** 自定义页面的字体样式  
**以便于** 统一页面的文字风格

**验收标准**：

- 可以选择字体族（中文字体、英文字体）
- 可以设置字体大小、行高、字重
- 支持配置标题、正文、链接等文字样式
- 修改后所有相关组件自动应用
- 支持预览字体效果

**优先级**：低  
**依赖关系**：US-4.1

---

#### US-4.4: 保存自定义主题

**作为** 页面设计师  
**我想要** 保存自定义的主题配置  
**以便于** 在其他项目中复用主题

**验收标准**：

- 可以将当前主题保存为自定义主题
- 需要为主题命名和添加描述
- 保存的主题出现在主题列表中
- 可以在其他项目中应用保存的主题
- 支持编辑和删除自定义主题

**优先级**：低  
**依赖关系**：US-4.2, US-4.3

---

#### US-4.5: 为组件添加动画

**作为** 页面设计师  
**我想要** 为组件添加进入、悬停等动画效果  
**以便于** 增强页面的交互体验

**验收标准**：

- 可以在属性面板中为组件添加动画
- 支持淡入、滑入、缩放等进入动画
- 支持悬停动画效果
- 可以配置动画时长和缓动函数
- 动画效果在预览中正确播放

**优先级**：中  
**依赖关系**：US-1.5

---

#### US-4.6: 配置响应式布局

**作为** 页面设计师  
**我想要** 为不同屏幕尺寸配置响应式布局  
**以便于** 页面在不同设备上都能良好显示

**验收标准**：

- 可以切换预览模式（桌面、平板、手机）
- 可以为不同断点配置不同的布局
- 支持隐藏/显示特定组件（按屏幕尺寸）
- 支持调整组件在不同屏幕上的尺寸和位置
- 响应式配置实时预览

**优先级**：高  
**依赖关系**：US-1.3

---

#### US-4.7: 配置组件间距

**作为** 页面设计师  
**我想要** 统一配置组件的间距  
**以便于** 保持页面布局的一致性

**验收标准**：

- 可以在主题中配置全局间距值
- 支持配置内边距、外边距的默认值
- 组件间距自动应用主题配置
- 支持为特定组件覆盖默认间距
- 间距配置实时生效

**优先级**：低  
**依赖关系**：US-4.1

---

## Epic 5: 模板系统

### Epic 描述

提供模板库浏览、模板应用、自定义模板保存和模板分享功能，支持快速创建页面。

### User Stories

#### US-5.1: 浏览模板库

**作为** 页面设计师  
**我想要** 浏览平台提供的页面模板  
**以便于** 选择合适的模板快速开始项目

**验收标准**：

- 可以在模板库中浏览所有可用模板
- 模板按分类展示（登录页、仪表盘、表单等）
- 每个模板显示预览图和描述
- 支持搜索模板（按名称或类型）
- 支持预览模板详情

**优先级**：高  
**依赖关系**：无

---

#### US-5.2: 应用模板到项目

**作为** 页面设计师  
**我想要** 将模板应用到当前项目  
**以便于** 快速创建页面，无需从零开始

**验收标准**：

- 可以选择模板并应用到画布
- 应用模板后，画布上显示模板的所有组件
- 模板中的组件可以独立编辑
- 应用模板不会覆盖现有内容（可选择替换或追加）
- 支持撤销模板应用操作

**优先级**：高  
**依赖关系**：US-5.1, US-1.1

---

#### US-5.3: 保存当前页面为模板

**作为** 页面设计师  
**我想要** 将当前设计的页面保存为模板  
**以便于** 在其他项目中复用这个页面设计

**验收标准**：

- 可以将当前画布上的页面保存为模板
- 需要为模板命名和添加描述
- 可以选择模板的封面图
- 保存的模板出现在我的模板列表中
- 保存的模板可以应用到其他项目

**优先级**：中  
**依赖关系**：US-1.1

---

#### US-5.4: 管理我的模板

**作为** 页面设计师  
**我想要** 管理我创建和收藏的模板  
**以便于** 编辑、删除或分享模板

**验收标准**：

- 可以在我的模板列表中查看所有模板
- 支持编辑模板名称和描述
- 支持删除模板
- 支持预览模板
- 支持将模板设为公开或私有

**优先级**：中  
**依赖关系**：US-5.3

---

#### US-5.5: 分享模板

**作为** 页面设计师  
**我想要** 分享我创建的模板  
**以便于** 与团队成员或其他用户共享设计资源

**验收标准**：

- 可以将模板设置为公开
- 公开的模板出现在公共模板库中
- 支持生成模板分享链接
- 其他用户可以通过链接访问模板
- 支持撤销模板分享

**优先级**：低  
**依赖关系**：US-5.3

---

#### US-5.6: 收藏模板

**作为** 页面设计师  
**我想要** 收藏我喜欢的模板  
**以便于** 快速访问常用的模板

**验收标准**：

- 可以收藏公共模板库中的模板
- 收藏的模板出现在我的收藏列表中
- 支持取消收藏
- 收藏列表支持搜索和筛选
- 收藏状态同步到云端

**优先级**：低  
**依赖关系**：US-5.1

---

## Epic 6: 协作功能

### Epic 描述

提供多人实时编辑、操作历史记录、撤销/重做功能和冲突解决机制，支持团队协作开发。

### User Stories

#### US-6.1: 邀请协作者

**作为** 页面设计师  
**我想要** 邀请团队成员协作编辑项目  
**以便于** 多人共同完成页面设计

**验收标准**：

- 可以通过邮箱或用户名邀请协作者
- 可以设置协作者的权限（编辑、查看）
- 协作者收到邀请通知
- 协作者接受邀请后可以访问项目
- 支持移除协作者

**优先级**：高  
**依赖关系**：无

---

#### US-6.2: 实时协作编辑

**作为** 页面设计师  
**我想要** 与团队成员实时协作编辑页面  
**以便于** 多人同时工作，提高协作效率

**验收标准**：

- 多个用户可以同时编辑同一项目
- 每个用户的操作实时同步到其他用户
- 显示其他用户的在线状态和光标位置
- 支持显示其他用户正在编辑的组件
- 操作冲突时自动解决或提示用户

**优先级**：高  
**依赖关系**：US-6.1

---

#### US-6.3: 查看操作历史

**作为** 页面设计师  
**我想要** 查看项目的操作历史记录  
**以便于** 了解页面的修改历程，追踪变更

**验收标准**：

- 可以查看所有历史操作记录
- 历史记录显示操作时间、操作人和操作内容
- 支持按时间筛选历史记录
- 支持查看历史版本的页面快照
- 历史记录支持搜索

**优先级**：中  
**依赖关系**：无

---

#### US-6.4: 撤销操作

**作为** 页面设计师  
**我想要** 撤销最近的操作  
**以便于** 纠正错误或回退到之前的状态

**验收标准**：

- 支持撤销最近的操作（Ctrl/Cmd + Z）
- 可以连续撤销多个操作
- 撤销操作实时生效
- 撤销后画布和组件树同步更新
- 支持撤销历史记录查看

**优先级**：高  
**依赖关系**：无

---

#### US-6.5: 重做操作

**作为** 页面设计师  
**我想要** 重做已撤销的操作  
**以便于** 恢复误撤销的内容

**验收标准**：

- 支持重做已撤销的操作（Ctrl/Cmd + Shift + Z）
- 可以连续重做多个操作
- 重做操作实时生效
- 重做后画布和组件树同步更新
- 只有在有撤销历史时才能重做

**优先级**：高  
**依赖关系**：US-6.4

---

#### US-6.6: 恢复到历史版本

**作为** 页面设计师  
**我想要** 恢复到某个历史版本  
**以便于** 回退到之前的某个时间点

**验收标准**：

- 可以在历史记录中选择某个版本
- 支持预览历史版本
- 可以恢复到选中的历史版本
- 恢复前提示确认，避免误操作
- 恢复后创建新的历史记录

**优先级**：中  
**依赖关系**：US-6.3

---

#### US-6.7: 解决编辑冲突

**作为** 页面设计师  
**我想要** 在多人同时编辑同一组件时解决冲突  
**以便于** 确保页面内容的一致性

**验收标准**：

- 检测到编辑冲突时提示用户
- 显示冲突的详细信息和冲突双方的操作
- 支持选择保留哪个版本
- 支持手动合并冲突内容
- 冲突解决后同步到所有协作者

**优先级**：中  
**依赖关系**：US-6.2

---

#### US-6.8: 查看协作者状态

**作为** 页面设计师  
**我想要** 查看当前在线的协作者  
**以便于** 了解谁正在编辑项目

**验收标准**：

- 显示当前在线的协作者列表
- 显示每个协作者正在编辑的组件
- 显示协作者的光标位置（如果可见）
- 支持查看协作者的操作历史
- 协作者离线时显示最后在线时间

**优先级**：低  
**依赖关系**：US-6.2

---

## Epic 7: 代码导出

### Epic 描述

提供代码生成、项目导出、Git 仓库集成和部署脚本生成功能，支持将设计转换为可部署的代码。

### User Stories

#### US-7.1: 导出 React 组件代码

**作为** 开发者  
**我想要** 将页面导出为 React 组件代码  
**以便于** 在 React 项目中使用生成的页面

**验收标准**：

- 可以导出当前页面为 React 组件
- 导出的代码符合 React 规范
- 包含所有组件的完整实现
- 代码格式化和注释完整
- 支持选择导出格式（JSX/TSX）

**优先级**：高  
**依赖关系**：无

---

#### US-7.2: 导出 Next.js 项目

**作为** 开发者  
**我想要** 将页面导出为完整的 Next.js 项目  
**以便于** 快速部署独立的 Web 应用

**验收标准**：

- 可以导出为 Next.js 项目结构
- 包含 package.json 和所有依赖配置
- 包含页面路由配置
- 包含样式文件和主题配置
- 导出的项目可以直接运行

**优先级**：高  
**依赖关系**：US-7.1

---

#### US-7.3: 导出代码到 Git 仓库

**作为** 开发者  
**我想要** 将导出的代码直接推送到 Git 仓库  
**以便于** 集成到现有的代码管理流程

**验收标准**：

- 可以配置 Git 仓库地址和认证信息
- 支持创建新仓库或推送到现有仓库
- 支持选择分支和提交信息
- 导出后自动执行 git push
- 支持查看推送结果和日志

**优先级**：中  
**依赖关系**：US-7.2

---

#### US-7.4: 生成部署脚本

**作为** 开发者  
**我想要** 生成项目的部署脚本  
**以便于** 快速部署到生产环境

**验收标准**：

- 可以生成 Docker 部署配置
- 可以生成 Vercel/Netlify 部署配置
- 可以生成 CI/CD 配置文件
- 部署脚本包含必要的环境变量配置
- 支持预览和下载部署脚本

**优先级**：中  
**依赖关系**：US-7.2

---

#### US-7.5: 自定义导出配置

**作为** 开发者  
**我想要** 自定义代码导出的配置选项  
**以便于** 控制导出代码的格式和内容

**验收标准**：

- 可以选择导出的组件和页面
- 可以配置代码风格（缩进、引号等）
- 可以选择是否包含注释和文档
- 可以选择是否压缩代码
- 支持保存导出配置预设

**优先级**：低  
**依赖关系**：US-7.1

---

#### US-7.6: 预览导出代码

**作为** 开发者  
**我想要** 在导出前预览生成的代码  
**以便于** 检查代码质量和正确性

**验收标准**：

- 可以在导出前预览代码内容
- 支持语法高亮显示
- 支持搜索和定位代码
- 支持查看文件结构
- 预览代码与最终导出代码一致

**优先级**：中  
**依赖关系**：US-7.1

---

#### US-7.7: 下载导出文件

**作为** 开发者  
**我想要** 下载导出的代码文件  
**以便于** 在本地使用或进一步开发

**验收标准**：

- 导出完成后可以下载 ZIP 文件
- ZIP 文件包含完整的项目结构
- 支持选择下载单个文件或整个项目
- 下载的文件可以直接解压使用
- 支持查看下载历史

**优先级**：高  
**依赖关系**：US-7.1, US-7.2

---

## Epic 8: 项目管理

### Epic 描述

提供项目创建和管理、页面管理、版本控制等功能，支持多项目和多页面管理。

### User Stories

#### US-8.1: 创建新项目

**作为** 页面设计师  
**我想要** 创建新的项目  
**以便于** 开始新的页面设计工作

**验收标准**：

- 可以创建新项目，需要输入项目名称
- 可以选择项目模板或从空白开始
- 可以设置项目描述和封面图
- 创建的项目出现在项目列表中
- 支持设置项目为公开或私有

**优先级**：高  
**依赖关系**：无

---

#### US-8.2: 查看项目列表

**作为** 页面设计师  
**我想要** 查看我创建和参与的所有项目  
**以便于** 快速访问和管理项目

**验收标准**：

- 可以查看所有项目的列表
- 项目列表显示项目名称、封面、最后修改时间
- 支持按名称、时间、状态筛选项目
- 支持搜索项目
- 支持按不同方式排序（时间、名称等）

**优先级**：高  
**依赖关系**：US-8.1

---

#### US-8.3: 编辑项目信息

**作为** 页面设计师  
**我想要** 编辑项目的基本信息  
**以便于** 更新项目描述和设置

**验收标准**：

- 可以修改项目名称和描述
- 可以更换项目封面图
- 可以修改项目的公开/私有设置
- 可以删除项目（需要确认）
- 修改后立即生效

**优先级**：中  
**依赖关系**：US-8.1

---

#### US-8.4: 创建新页面

**作为** 页面设计师  
**我想要** 在项目中创建新页面  
**以便于** 设计多个页面组成完整的应用

**验收标准**：

- 可以在项目中创建新页面
- 需要为页面命名
- 可以选择页面模板或从空白开始
- 创建的页面出现在页面列表中
- 支持设置页面路由路径

**优先级**：高  
**依赖关系**：US-8.1

---

#### US-8.5: 管理项目页面

**作为** 页面设计师  
**我想要** 管理项目中的所有页面  
**以便于** 组织和管理多个页面

**验收标准**：

- 可以查看项目中的所有页面列表
- 支持编辑页面名称和路由
- 支持删除页面（需要确认）
- 支持复制页面
- 支持调整页面顺序

**优先级**：中  
**依赖关系**：US-8.4

---

#### US-8.6: 切换编辑页面

**作为** 页面设计师  
**我想要** 在不同页面之间切换编辑  
**以便于** 同时编辑多个页面

**验收标准**：

- 可以在页面列表中点击切换页面
- 切换页面时保存当前页面的编辑状态
- 切换后画布显示新页面的内容
- 支持使用快捷键切换页面
- 切换过程中显示加载状态

**优先级**：高  
**依赖关系**：US-8.4

---

#### US-8.7: 项目版本管理

**作为** 页面设计师  
**我想要** 管理项目的版本  
**以便于** 创建项目快照，便于回退和对比

**验收标准**：

- 可以创建项目版本（打标签）
- 需要为版本命名和添加描述
- 可以查看所有版本列表
- 可以恢复到某个版本
- 可以对比不同版本的差异

**优先级**：中  
**依赖关系**：US-8.1

---

#### US-8.8: 导出项目

**作为** 页面设计师  
**我想要** 导出整个项目  
**以便于** 备份项目或迁移到其他环境

**验收标准**：

- 可以导出项目为 JSON 文件
- 导出的文件包含所有页面和配置
- 支持导出项目版本
- 导出的文件可以导入到其他项目
- 导出文件包含项目元数据

**优先级**：低  
**依赖关系**：US-8.1

---

## Epic 9: 用户管理

### Epic 描述

提供用户注册登录、权限管理、协作者邀请等功能，支持用户账户和权限管理。

### User Stories

#### US-9.1: 用户注册

**作为** 新用户  
**我想要** 注册平台账户  
**以便于** 使用平台的所有功能

**验收标准**：

- 可以通过邮箱和密码注册
- 支持邮箱验证
- 注册表单包含必要的验证
- 注册成功后自动登录
- 支持第三方登录（可选）

**优先级**：高  
**依赖关系**：无

---

#### US-9.2: 用户登录

**作为** 用户  
**我想要** 登录平台账户  
**以便于** 访问我的项目和数据

**验收标准**：

- 可以通过邮箱和密码登录
- 支持记住登录状态
- 登录失败时显示错误提示
- 支持忘记密码功能
- 支持第三方登录（可选）

**优先级**：高  
**依赖关系**：无

---

#### US-9.3: 管理个人资料

**作为** 用户  
**我想要** 管理我的个人资料信息  
**以便于** 更新头像、昵称等个人信息

**验收标准**：

- 可以查看和编辑个人资料
- 可以上传和更换头像
- 可以修改昵称、邮箱等信息
- 可以修改密码
- 修改后立即生效

**优先级**：中  
**依赖关系**：US-9.2

---

#### US-9.4: 设置项目权限

**作为** 页面设计师  
**我想要** 设置项目的访问权限  
**以便于** 控制谁可以查看和编辑项目

**验收标准**：

- 可以设置项目为公开或私有
- 可以为协作者设置不同的权限（查看、编辑、管理）
- 可以移除协作者的访问权限
- 权限变更立即生效
- 支持查看项目的所有协作者

**优先级**：高  
**依赖关系**：US-8.1, US-6.1

---

#### US-9.5: 管理团队成员

**作为** 管理员  
**我想要** 管理团队成员  
**以便于** 组织和管理团队协作

**验收标准**：

- 可以查看所有团队成员列表
- 可以添加和移除团队成员
- 可以为成员设置角色和权限
- 可以查看成员的活动记录
- 支持批量管理操作

**优先级**：中  
**依赖关系**：US-9.1（需要管理员权限）

---

#### US-9.6: 查看使用统计

**作为** 用户  
**我想要** 查看我的使用统计信息  
**以便于** 了解我的项目和使用情况

**验收标准**：

- 可以查看项目数量、页面数量等统计
- 可以查看最近的活动记录
- 可以查看存储空间使用情况
- 支持按时间范围筛选统计
- 统计数据实时更新

**优先级**：低  
**依赖关系**：US-9.2

---

## 用户故事索引

### 按优先级分类

#### 高优先级（P0 - 核心功能）

- US-1.1: 拖拽组件到画布
- US-1.2: 在画布上移动组件
- US-1.3: 实时预览页面效果
- US-1.5: 配置组件属性
- US-1.6: 选择画布上的组件
- US-2.1: 浏览内置组件库
- US-2.2: 使用基础组件
- US-2.3: 使用布局组件
- US-3.2: 创建 API 数据源
- US-3.3: 绑定数据到组件
- US-3.4: 使用图表组件
- US-3.6: 创建表单
- US-4.6: 配置响应式布局
- US-5.1: 浏览模板库
- US-5.2: 应用模板到项目
- US-6.1: 邀请协作者
- US-6.2: 实时协作编辑
- US-6.4: 撤销操作
- US-6.5: 重做操作
- US-7.1: 导出 React 组件代码
- US-7.2: 导出 Next.js 项目
- US-7.7: 下载导出文件
- US-8.1: 创建新项目
- US-8.2: 查看项目列表
- US-8.4: 创建新页面
- US-8.6: 切换编辑页面
- US-9.1: 用户注册
- US-9.2: 用户登录
- US-9.4: 设置项目权限

#### 中优先级（P1 - 重要功能）

- US-1.4: 查看和管理组件树
- US-1.7: 删除画布上的组件
- US-1.8: 复制和粘贴组件
- US-2.4: 创建自定义组件
- US-2.5: 管理自定义组件
- US-3.1: 创建静态数据源
- US-3.5: 配置图表属性
- US-3.7: 配置表单验证
- US-3.8: 管理数据源
- US-4.1: 使用预设主题
- US-4.2: 自定义主题颜色
- US-4.5: 为组件添加动画
- US-5.3: 保存当前页面为模板
- US-5.4: 管理我的模板
- US-6.3: 查看操作历史
- US-6.6: 恢复到历史版本
- US-6.7: 解决编辑冲突
- US-7.3: 导出代码到 Git 仓库
- US-7.4: 生成部署脚本
- US-7.6: 预览导出代码
- US-8.3: 编辑项目信息
- US-8.5: 管理项目页面
- US-8.7: 项目版本管理
- US-9.3: 管理个人资料
- US-9.5: 管理团队成员

#### 低优先级（P2 - 增强功能）

- US-2.6: 组件分组管理
- US-2.7: 导出组件
- US-2.8: 导入组件
- US-4.3: 自定义字体样式
- US-4.4: 保存自定义主题
- US-4.7: 配置组件间距
- US-5.5: 分享模板
- US-5.6: 收藏模板
- US-6.8: 查看协作者状态
- US-7.5: 自定义导出配置
- US-8.8: 导出项目
- US-9.6: 查看使用统计

### 按用户角色分类

#### 页面设计师

- 所有 Epic 1-6 的用户故事
- Epic 8 的用户故事（项目管理）
- Epic 9 的部分用户故事（个人资料、项目权限）

#### 开发者

- Epic 7 的所有用户故事（代码导出）
- Epic 9 的部分用户故事（个人资料）

#### 终端用户

- 无直接的用户故事（通过生成的页面间接使用平台）

#### 管理员

- Epic 9 的部分用户故事（用户管理、团队管理）

---

## 附录

### 术语表

- **Epic**：大型功能模块，包含多个相关的用户故事
- **User Story**：具体的功能需求，描述用户如何使用系统
- **组件**：可重用的 UI 元素，如按钮、表单、图表等
- **画布**：可视化编辑器的中央区域，用于放置和编辑组件
- **数据源**：提供数据的外部来源，如 API、静态数据等
- **模板**：预设计的页面布局，可以快速应用到项目中
- **协作者**：被邀请参与项目编辑的其他用户

### 更新日志

- **2024-12**：初始版本，包含 9 个 Epic 和 80+ 个用户故事

---

**文档版本**：1.0  
**最后更新**：2024 年 12 月  
**维护者**：产品团队
